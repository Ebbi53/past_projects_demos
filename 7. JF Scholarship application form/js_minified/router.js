define(["jquery","underscore","backbone","model/session","core-js/modules/es7.array.includes","core-js/modules/es6.string.includes","core-js/modules/es6.array.find"],function(a,b,c,d){var e=c.Router.extend({routes:{// '': function _() {
//   require(['view/privacy_notice'], function (privacy_noticeView) {
//     $('#body').html(new privacy_noticeView().el);
//   });
// },
"":function(){0==a("#body").find("#preview").length?d.fetch().done(function(){require(["view/form"],function(b){a("#body").html(new b().el)})}).fail(function(){c.Events.trigger("showError","server")}):(a("#form_wrapper").show(),a("#preview").remove())},preview:function(){a("#body").find("#form_wrapper").length?require(["view/preview"],function(b){a("#form_wrapper").hide(),a("#body").append(new b().el)}):this.navigate("",{trigger:!0})},success:function(){d.get("applicationtoken")?require(["view/success"],function(b){a("#body").html(new b().el)}):this.navigate("",{trigger:!0})}}}),f={validation:"<strong>FORM VALIDATION FAILED</strong><br><hr>Few compulsory fields are incomplete. Please review your form",fileSize:"<strong>FILE UPLOAD FAILED</strong><br><hr>File size is exceeding the limit.",fileUpload:"<strong>FILE UPLOAD FAILED</strong><br><hr>Please try again.",server:"<strong>UNEXPECTED SERVER ERROR</strong><br><hr>Please try again.",sessionTimeOut:"<strong>SESSION TIMEOUT</strong><br><hr>Please <b>upload the files again</b> and then proceed.",cancelUpload:"File upload canceled.",fileType:"<strong>FILE UPLOAD FAILED</strong><br><hr>Invalid file type. Please select the correct file type.",emailReUse:"<strong>INVALID EMAIL</strong><br><hr>This email has already been used. Please use another email address."};return c.Events.on("showError",function(b){a("div.alert div#errorMsg").html(f[b]),a("div.alert").fadeIn(300),"server"==b||"sessionTimeOut"==b?a("div[class*=container] div.row").css("opacity",.5):setTimeout(function(){a("div.alert").fadeOut(300)},3500)}),a("div.alert span.closebtn").click(function(b){a(b.currentTarget).parents("div.alert").fadeOut(300),a("div[class*=container] div.row").css("opacity",1),a("div.alert div#errorMsg").html().includes("TIMEOUT")&&(a("#body").find("#preview").length&&Router.navigate("",{trigger:!1}),a(window).scrollTop(a("#uploaded_files").offset().top-(991>=window.innerWidth?a("nav.navbar").outerHeight():0)),a(".undoBtn").not(":disabled").trigger("click"))}),window.addEventListener("beforeunload",function(a){""!=location.hash&&"#success"!=location.hash&&(a.preventDefault(),a.returnValue="")}),new e});